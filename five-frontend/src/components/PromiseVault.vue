<template>
  <section class="vault-section">
    <h2 class="section-title" v-scroll-fade-in>ë¯¸ë˜ë¥¼ ì•½ì†í•˜ëŠ” ìš°ë¦¬ë§Œì˜ ê¸ˆê³ </h2>
    <p class="section-subtitle" v-scroll-fade-in>ìƒìë¥¼ í´ë¦­í•´ì„œ ë‚˜ì˜ ì•½ì†ì„ í™•ì¸í•´ì¤˜</p>
    <div class="vault-container">
      <div 
        v-for="(promise, index) in promises" 
        :key="index"
        class="vault-box"
        :class="{ unlocked: promise.unlocked }"
        @click="toggleLock(index)"
        v-scroll-fade-in
        :style="{ transitionDelay: `${index * 150}ms` }"
      >
        <div class="vault-header">
          <span>{{ promise.unlocked ? 'ğŸ”“ ì•½ì† í™•ì¸ ì™„ë£Œ!' : 'ğŸ”’ ì•½ì†ì„ í™•ì¸í•˜ë ¤ë©´ í´ë¦­' }}</span>
        </div>
        <div class="promise-content">
          <p v-if="promise.unlocked">{{ promise.text }}</p>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref } from 'vue';

// OOO ë¶€ë¶„ì— ë³¸ì¸ì˜ ë‹¤ì§ì„ ì§ì ‘ ì ì–´ì£¼ì„¸ìš”!
const promises = ref([
  { text: 'ì‚¬ì†Œí•œ ì¼ì—ë„ í•­ìƒ ì€ì„œ í¸ì´ ë˜ì–´ì¤„ê²Œ.', unlocked: false },
  { text: 'í˜ë“¤ ë•Œ ê¸°ëŒˆ ìˆ˜ ìˆëŠ” ê°€ì¥ ë“ ë“ í•œ ë‚˜ë¬´ê°€ ë˜ì–´ì¤„ê²Œ.', unlocked: false },
  { text: 'ë§¤ì¼ í•œ ë²ˆ ì´ìƒ ì˜ˆì˜ë‹¤ê³ , ì‚¬ë‘í•œë‹¤ê³  í‘œí˜„í• ê²Œ.', unlocked: false },
  { text: 'ì€ì„œì˜ ê¿ˆì„ ëˆ„êµ¬ë³´ë‹¤ ê°€ì¥ í° ëª©ì†Œë¦¬ë¡œ ì‘ì›í• ê²Œ.', unlocked: false },
  { text: 'í•¨ê»˜ ë§›ìˆëŠ” ê±° ë§ì´ ë¨¹ê³ , ì¢‹ì€ ê³³ ë§ì´ ì—¬í–‰í•˜ë©° í–‰ë³µí•œ ì¶”ì–µìœ¼ë¡œ ê°€ë“ ì±„ìš¸ê²Œ.', unlocked: false },
  { text: 'ì§€ê¸ˆì²˜ëŸ¼, ê·¸ë¦¬ê³  ì§€ê¸ˆë³´ë‹¤ ë”, ë³€ì¹˜ ì•Šê³  ì‚¬ë‘í• ê²Œ.', unlocked: false },
]);

const toggleLock = (index) => {
  promises.value[index].unlocked = !promises.value[index].unlocked;
};
</script>

<style scoped>
.vault-section {
  background: var(--bg-light);
}
.section-subtitle {
  text-align: center;
  margin-top: -30px;
  margin-bottom: 40px;
  color: var(--text-light);
}
.vault-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 25px;
}
.vault-box {
  background: #ffffff;
  border: 2px solid #e0e0e0;
  border-radius: 15px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.4s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.vault-box:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  border-color: var(--main-pink);
}
.vault-header {
  font-weight: bold;
  color: var(--text-light);
  text-align: center;
  margin-bottom: 15px;
  font-size: 1.1rem;
}
.promise-content {
  text-align: center;
  font-size: 1.2rem;
  color: var(--point-coral);
  font-weight: bold;
  min-height: 50px; /* ë‚´ìš©ì´ ì—†ì„ ë•Œë„ ë†’ì´ ìœ ì§€ */
  display: flex;
  justify-content: center;
  align-items: center;
}
.vault-box.unlocked {
  border-color: var(--point-coral);
  background-color: #fff8f8;
}
.vault-box.unlocked .vault-header {
  color: var(--point-coral);
}
</style>